/表达式/[修饰符]  
/^\w{6,20}\$/i  
a-zA-Z0-9\_ 6 到 20 位

---

## 表达式

| 字符       | 说明                         |
| ---------- | ---------------------------- |
| \|转移字符 |
| ^          | 匹配输入字符串的开始位置     |
| \$         | 匹配输入字符串的结束位置     |
| \*         | 匹配前面的子表达式零次或多次 |
| \+         | 匹配前面的子表达式一次或多次 |
| \?         | 匹配前面的子表达式零次或一次 |
| {n}        | 匹配 n 次                    |
| {n,}       | 匹配 n+次                    |
| {n,m}      | 匹配 n ~ m 次(包含)          |

---

| 字符         | 说明                                        |
| ------------ | ------------------------------------------- |
| one&#124;two | 或者                                        |
| (x&#124;y)zz | 或者                                        |
| (pattern)    | 分组，捕获                                  |
| (?:pattern)  | 分组，非捕获                                |
| (?=pattern)  | 分组，非捕获，并且为预检测为 等于 pattern   |
| (?!pattern)  | 分组，非捕获，并且为预检测为 不等于 pattern |

---

| 字符   | 说明       |
| ------ | ---------- |
| [xyz]  | 包含 xyz   |
| [^xyz] | 不包含 xyz |
| [a-z]  | 包含 a-z   |
| [^a-z] | 不包含 a-z |

---

| 字符 | 说明                       |
| ---- | -------------------------- |
| \d   | 数字字符 0-9               |
| \D   | 非数字字符                 |
| \n   | 换行符                     |
| \r   | 回车符                     |
| \s   | 任意空白字符 [ \f\n\r\t\v] |
| \S   | 非空白字符                 |
| \w   | [a-zA-Z0-9_]               |
| \W   | [^a-za-z0-9_]              |

---

| 字符                           | 说明                                                                                         |
| ------------------------------ | -------------------------------------------------------------------------------------------- |
| \xn                            | n 为十六进制转义值,两个数字长 \x41 => A                                                      |
| \n                             | 获取之前的分组匹配字符串                                                                     |
| \un                            | 匹配 n，其中 n 是一个用四个十六进制数字表示的 Unicode 字符。例如， \u00A9 匹配版权符号 (?)。 |
| (\*, +, ?, {n}, {n,}, {n,m}) ? | 非贪婪模式                                                                                   |
| .                              | 匹配任意字符 换行符\n 除外                                                                   |

---

| 字符 | 说明                                |
| ---- | ----------------------------------- |
| \b   | 边界字符 单词开始和结束的边界(虚拟) |
| \B   | 非边界字符(虚拟)                    |

---

## \\b

```javascript
// ["1", "", "1"]
"1".match(/(\b)(.*)/);
// ["a", "", "a"]
"a".match(/(\b)(.*)/);
// ["A", "", "A"]
"A".match(/(\b)(.*)/);
// ["_", "", "_"]
"_".match(/(\b)(.*)/);

// null
"#".match(/(\b)(.*)/);
```

---

## \\b

```javascript
" A".match(/(\b)(.*)/);
```

A. [" A", "", "A"]  
B. ["A", "", "A"]  
C. [" A", " ", "A"]  
D. ["A", " ", "A"]  

---

## \\b

```javascript
"#A".match(/(\b)(.*)/);
```

A. ["#A", "", "#A"]  
B. ["A", "", "A"]  
C. ["#A", "", "A"]  

---

## \\B

```javascript
// ["#", "", "#"]
"#".match(/(\B)(.*)/)

// ["#", "", "#"]
" #".match(/(\B)(.*)/)

// ?
"1#".match(/(\B)(.*)/)  => ?
"_#".match(/(\B)(.*)/)  => ?
"-#".match(/(\B)(.*)/)  => ?

// ?
"1#1".match(/(\B)(.*)/)  => ?

```

---

## 修饰符

-   g 全局
-   i 不区分单子大小写
-   m 多行模式（IE opera 有兼容问题）
-   y 必须在 lastIndex 属性指示的位置匹配成功（ES6）

> 匹配全部字符 请使用 [\s\S] 包含回车符和换行符

---

-   测试字符串的某个模式 test match ...
-   替换文本 replace
-   根据模式匹配从字符串中提取一个子字符串 exec match

---

## 匹配大陆手机号码

```javascript
/^1[013-9]{10}$/;
```

-   ^ 为从头开始
-   \$ 结尾标识符
-   \d 匹配数字字符
-   合起来为匹配数字 1 开头，并且后面紧跟 10 位数字的字符串

```javascript
/^\s*1\d{10}\s*$/;
```

-   前后都了两个 \s\* 表示字符串前后允许出现空白字符

```javascript
/^\s*(1\d{10})\s*$/;
```

-   一对括号，表示将 11 位手机号码分组， `RegExp.$1` 存储的就是手机号码

---

## 字符占位符匹配并替换

-   占位符定义 {#xxx}
-   固定占位符 {#}
-   内容维护 xxx

---

```javascript
// 带有占位符的字符串
let occupyStr = "{#who}去{#where}了。";

// 需要替换的数据
let str1Data = { who: "韩梅梅", where: "上英语课" };
let str1 = occupyStr.replace(/\{#(\w+)\}/g, function($0, $1) {
    return str1Data[$1] || "";
});
// 输出 韩梅梅去上英语课了。
console.log(str1);

// 需要替换的数据
let str2Data = { who: "李磊", where: "上学" };
let str2 = occupyStr.replace(/\{#(\w+)\}/g, function($0, $1) {
    return str2Data[$1] || "";
});
// 输出 李磊去上学了。
console.log(str1);
```

---

-   \$0 为全量匹配字符串 {#xxx}
-   \$1 为第一个()中的内容 xxx
-   return 返回的数据将全量替换 {#xxx}
-   g 为全局替换，如果没有 g，只会替换 {#who} 这一个占位符
-   {} 花括号为特殊字符，需要加转移字符 \

---

## css 样式 key 格式化 margin-left => marginLeft

```javascript
function toUpperCaseByCssKey(str) {
    return str.replace(/-([a-z])/g, function($0, $1) {
        return $1.toUpperCase();
    });
}

// marginLeft
toUpperCaseByCssKey("margin-left");
// borderLeftColor
toUpperCaseByCssKey("border-left-color");
```

---

## 匹配 HTML 中所有带有 src 字段的 script 标签

```javascript
<script type="" src="" async  ></script>

/<script[^>]+?src=(["'])(^\1+)\1[^>]*?>[\s\S]*?<\/script>/g;
```

-   \[^>\]+? 非 > 至少有一个字符，并最少匹配 ? 代表最少匹配
-   \1 代表 (["'])括号中匹配的引号
-   \[^>\]\*? 同第一条类似，匹配 0 个或者多个
-   \[\s\S\]\*? 最少匹配全部字符 同 .号区别是，.号无法匹配回车符
-   以上正则可以通过 replace 或者 exec 等操作函数操作

---

## 关于(?:) (?=) (?!)

-   三个都不记录分组
-   (?=) =号后面需要紧跟的目标字符串，但括号中不进行存储供以后使用
-   (?!) =号后面需要紧跟的非目标字符串，但括号中不进行存储供以后使用

---

```javascript
/aaa(ab|xy)bb/.test("aaaabbb")      // 输出为 true
RegExp.$1                           // 输出为 ab
/aaa(?:ab|xy)bb/.test("aaaabbb")    // 输出为true
RegExp.$1                           // 输出为 空
/aaa(ab|xy)bb/.test("aaaxybb")      // 输出为 true
RegExp.$1                           // 输出为 xy
/aaa(?:ab|xy)bb/.test("aaaxybb")    // 输出为true
RegExp.$1                           // 输出为 空

// 整个进行存储匹配，所以是两个字母
"aaaaaaab".match(/(\w)(?:\1)/g)     // ["aa", "aa", "aa"]
// 只匹配第一个括号，第二个只作为验证不作为匹配
"aaaaaaab".match(/(\w)(?=\1)/g)     // ["a", "a", "a", "a", "a", "a"]
"aaaaaaab".match(/(\w)(?!\1)/g)     // ["a", "b"]

```

---

## 关于 \*？ +？

\*和+号后面跟？号表示最少匹配

```javascript
"1&2&".match(/.*&/); // 输出 1&2&
"1&2&".match(/.*?&/); // 输出 1&

"&2&".match(/.*&/); // 输出 &2&
"&2&".match(/.*?&/); // 输出 &

"1&2&".match(/.+&/); // 输出 1&2&
"1&2&".match(/.+?&/); // 输出 1&

"&2&".match(/.+&/); // 输出 &2&
"&2&".match(/.+?&/); // 输出 &2&
```
